{% extends "base.html" %}
{% load static %}

{% block title %}Chi tiết bản ghi #{{ request.id }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="card shadow-lg">
        <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
            <h3>Chi tiết bản ghi #{{ request.id }}</h3>
            <div>
                <a href="{% url 'history_list' %}" class="btn btn-light">Quay lại</a>
                <a href="{% url 'history_delete' request.pk %}" class="btn btn-danger">Xóa</a>
            </div>
        </div>
        <div class="card-body">
            <p><strong>Thời gian:</strong> {{ request.created_at|date:"d/m/Y H:i:s" }}</p>
            <p><strong>Trạng thái:</strong> 
                <span class="badge bg-success">Hoàn thành</span>
            </p>

            <hr>

            <h5>Văn bản gốc:</h5>
            <div class="p-4 bg-light rounded mb-4" style="font-size:17px; line-height:1.8;">
                {{ request.original_text|linebreaks }}
            </div>

            <h5>Văn bản đã sửa bởi AI (flan-t5-large):</h5>
            <div class="p-4 bg-white border border-success rounded" style="font-size:17px; line-height:1.8;">
                {{ request.corrected_text|linebreaks }}
            </div>

            <div class="text-center mt-4">
    <a href="{% url 'export_pdf' request.id %}"
       class="btn btn-danger me-2">
         Xuất PDF
    </a>

    <a href="{% url 'export_docx' request.id %}"
       class="btn btn-primary">
         Xuất Word
    </a>
</div>
        </div>
    </div>
</div>
{% endblock %}